@layer components {
    input.form-control,
    .form-control {
        border: 1px solid var(--color-line, #d1d5db);
        border-radius: var(--radius-control, 0.375rem);
        background-color: var(--color-control-bg, rgba(125, 125, 125, 0.5));
        padding: 0 0.75rem;
        height: var(--height-control, 2.25rem);
        transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        font-family: inherit;
        font-size: var(--text-control, 0.875rem);
        font-weight: var(--text-control--font-weight, 400);
        letter-spacing: var(--text-control--letter-spacing, 0em);
        line-height: var(--text-control--line-height, 1.4);
        box-sizing: border-box;
        color: var(--color-control-text, var(--color-fg));
    }

    textarea.form-control {
        padding: 0.5rem 0.75rem;
        height: auto;
        min-height: var(--height-control, 2.25rem);
    }

    input.form-control:-webkit-autofill,
    input.form-control:-webkit-autofill:hover,
    input.form-control:-webkit-autofill:focus,
    input.form-control:-webkit-autofill:active {
        -webkit-background-clip: text;
        -webkit-text-fill-color: var(--color-control-text, var(--color-fg));
        transition: background-color 5000s ease-in-out 0s;
        box-shadow: inset 0 0 0 1000px var(--color-control-bg, rgba(125, 125, 125, 0.5));
    }

    input.form-control::placeholder,
    textarea.form-control::placeholder,
    .form-control::placeholder,
    .control-placeholder-input::placeholder,
    .control-placeholder-apply {
        color: var(--color-control-placeholder);
        font-size: inherit;
        font-weight: var(--text-control--font-weight, 400);
        letter-spacing: var(--text-control--letter-spacing, 0em);
        line-height: inherit;
        font-style: var(--text-control-placeholder--font-style, italic);
    }

    .form-error-border .form-control, /* for Select */
    .form-error-border {
        border-color: var(--color-danger-fade);
    }

    /* Error state - applied directly to form control element */
    .form-field-error.form-control,
    .form-field-error .form-control {
        border-color: var(--color-danger-fade);
    }

    /* Error state for radio/checkbox groups */
    .form-field-error [role="radio"],
    .form-field-error [role="checkbox"] {
        border-color: var(--color-danger-fade) !important;
    }

    .form-control:focus-within {
        outline: 2px solid var(--color-primary);
        outline-offset: -1px;
    }

    .form-control:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    /* Size variants */
    input.form-control.form-control-xs,
    .form-control.form-control-xs,
    .form-control-xs input.form-control,
    .form-control-xs .form-control {
        padding: 0 0.375rem;
        height: var(--height-control-xs, 1.375rem);
        font-size: var(--text-control-xs, 0.625rem);
    }

    input.form-control.form-control-sm,
    .form-control.form-control-sm,
    .form-control-sm input.form-control,
    .form-control-sm .form-control {
        padding: 0 0.5rem;
        height: var(--height-control-sm, 1.75rem);
        font-size: var(--text-control-sm, 0.75rem);
    }

    textarea.form-control.form-control-sm,
    .form-control-sm textarea.form-control {
        padding: 0.375rem 0.5rem;
        height: auto;
        min-height: var(--height-control-sm, 1.75rem);
        font-size: var(--text-control-sm, 0.75rem);
    }

    input.form-control.form-control-lg,
    .form-control.form-control-lg,
    .form-control-lg input.form-control,
    .form-control-lg .form-control {
        padding: 0 1rem;
        height: var(--height-control-lg, 2.75rem);
    }

    textarea.form-control.form-control-lg,
    .form-control-lg textarea.form-control {
        padding: 0.625rem 1rem;
        height: auto;
        min-height: var(--height-control-lg, 2.75rem);
    }

    .form-label {
        color: var(--color-control-label);
        font-size: var(--text-control-label, 0.875rem);
        font-weight: var(--text-control-label--font-weight, 600);
        letter-spacing: var(--text-control-label--letter-spacing, 0em);
        line-height: var(--text-control-label--line-height, 1.25);
        padding-left: var(--spacing-label-x);
        margin-bottom: 0.25rem;
    }

    /* Radio and checkbox option labels */
    .form-option-label {
        font-size: var(--text-control, 0.875rem);
        line-height: var(--text-control--line-height, 1.4);
        cursor: pointer;
        user-select: none;
    }

    .form-error {
        color: var(--color-danger);
        font-size: var(--text-control-error, 0.75rem);
        line-height: var(--text-control-error--line-height, 1.4);
        padding-left: var(--spacing-label-x);
        padding-top: 0.125rem;
        margin-bottom: calc(-1 * (var(--text-control-error, 0.75rem) * var(--text-control-error--line-height, 1.4) + 0.125rem));
    }

    /* Input with icons */
    .input-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
    }

    .input-icon {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--color-control-placeholder);
        pointer-events: none;
        z-index: 1;
    }

    .input-icon-clickable {
        pointer-events: auto;
        cursor: pointer;
        transition: color 0.2s ease;
    }

    .input-icon-clickable:hover {
        color: var(--color-fg);
    }

    .input-icon-start {
        left: 0.5rem;
    }

    .input-icon-end {
        right: 0.75rem;
    }

    .input-with-icon {
        width: 100%;
    }

    .form-control.input-has-start-icon,
    input.form-control.input-has-start-icon {
        padding-left: 2rem;
    }

    .form-control.input-has-end-icon,
    input.form-control.input-has-end-icon {
        padding-right: 2.25rem;
    }

    /* Size variants for icon inputs */
    .form-control-sm .input-icon-start {
        left: 0.375rem;
    }

    .form-control-sm .input-icon-end {
        right: 0.5rem;
    }

    .form-control-sm .form-control.input-has-start-icon,
    .form-control-sm input.form-control.input-has-start-icon,
    .form-control.form-control-sm.input-has-start-icon {
        padding-left: 1.625rem;
    }

    .form-control-sm .form-control.input-has-end-icon,
    .form-control-sm input.form-control.input-has-end-icon,
    .form-control.form-control-sm.input-has-end-icon {
        padding-right: 1.75rem;
    }

    .form-control-lg .input-icon-start {
        left: 0.75rem;
    }

    .form-control-lg .input-icon-end {
        right: 1rem;
    }

    .form-control-lg .form-control.input-has-start-icon,
    .form-control-lg input.form-control.input-has-start-icon,
    .form-control.form-control-lg.input-has-start-icon {
        padding-left: 2.75rem;
    }

    .form-control-lg .form-control.input-has-end-icon,
    .form-control-lg input.form-control.input-has-end-icon,
    .form-control.form-control-lg.input-has-end-icon {
        padding-right: 2.75rem;
    }

    /* Input group - joined controls in a single bordered container */
    .input-group {
        display: flex;
        align-items: stretch;
        border: 1px solid var(--color-line, #d1d5db);
        border-radius: var(--radius-control, 0.375rem);
        background-color: var(--color-control-bg, rgba(125, 125, 125, 0.5));
        transition: border-color 0.2s ease-in-out;
    }


    .input-group > * {
        min-width: 0;
    }

    .input-group .form-control {
        border: none;
        border-radius: 0;
        background: transparent;
    }

    .input-group .btn {
        border: none;
        border-radius: 0;
    }

    .input-group > :first-child .form-control,
    .input-group > :first-child.form-control,
    .input-group > :first-child.btn {
        border-radius: var(--radius-control, 0.375rem) 0 0 var(--radius-control, 0.375rem);
    }

    .input-group > :last-child .form-control,
    .input-group > :last-child.form-control,
    .input-group > :last-child.btn {
        border-radius: 0 var(--radius-control, 0.375rem) var(--radius-control, 0.375rem) 0;
    }

    .input-group .form-control:focus-within {
        outline: 2px solid var(--color-primary);
        outline-offset: -1px;
    }

    .input-group.form-field-error,
    .input-group:has(.form-field-error) {
        border-color: var(--color-danger-fade);
    }

    .input-group-divider {
        width: 1px;
        flex-shrink: 0;
        align-self: stretch;
        background: var(--color-line, #d1d5db);
    }
}
